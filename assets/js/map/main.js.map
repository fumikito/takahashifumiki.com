{"version":3,"sources":["main.js"],"names":["$","material","init","jQuery","document","ready","$loggineBtn","test","cookie","remove","attr","navigator","userAgent","addClass","netabareMsg","each","index","elt","hasClass","button","top","height","after","click","e","preventDefault","window","confirm","removeClass","effect","ga","hitType","eventCategory","eventAction","location","pathname","eventLabel","this","eventValue","err","css","unbind","on","$homeContainer","find","length","imagesLoaded","masonry","itemSelector","$front","trigger","headroom","toggleClass","browserLanguage","ua","toLowerCase","indexOf","languages","language","userLanguage","substr","event","add"],"mappings":"CAIA,SAAWA,GACT,YAEAA,GAAEC,SAASC,OAEXC,OAAOC,UAAUC,MAAM,SAAUL,GAE/B,GAAIM,GAAcN,EAAE,gBAChB,oBAAmBO,KAAKH,SAASI,UACnCR,EAAE,wBAAwBS,SAC1BH,EAAYI,KAAK,OAAQJ,EAAYI,KAAK,gBAIxC,UAAUH,KAAKI,UAAUC,YAAe,OAAOL,KAAKI,UAAUC,aAAgB,sBAAsBL,KAAKI,UAAUC,aACrHZ,EAAE,QAAQa,SAAS,mBAEjB,UAAUN,KAAKI,UAAUC,YAC3BZ,EAAE,QAAQa,SAAS,gBAIrB,IAAIC,GAAc,qDAElBd,GAAE,+BAA+Be,KAAK,SAAUC,EAAOC,GACrD,GAAIjB,EAAEiB,GAAKC,SAAS,YAAa,CAE/B,GAAIC,GAASnB,EAAE,2DAA6DgB,EAAQ,GAAK,8CACrFI,EAASpB,EAAEiB,GAAMI,SAAW,IAChCrB,GAAEiB,GAAKK,MAAMH,GACbA,EAAOI,MAAM,SAAUC,GAErB,GADAA,EAAEC,iBACEC,OAAOC,QAAQb,GAAc,CAC/Bd,EAAEiB,GAAKW,YAAY,YAAYA,YAAY,mBACvC5B,EAAEiB,GAAKY,QACT7B,EAAEiB,GAAKY,OAAO,eAAiB,IAEjC,KACEC,GAAG,QACDC,QAAe,QACfC,cAAe,WACfC,YAAeP,OAAOQ,SAASC,SAC/BC,WAAepC,EAAEqC,MAAM3B,KAAK,cAC5B4B,WAAe,IAEjB,MAAOC,IAETvC,EAAEqC,MAAM5B,YAET+B,KACDpB,IAAKA,EAAM,WAEJpB,GAAEiB,GAAKC,SAAS,oBAEzBlB,EAAEiB,GAAKM,MAAM,SAAUC,GACrB,GAAIE,OAAOC,QAAQb,GAAc,CAC/Bd,EAAEqC,MAAMT,YAAY,mBAAmBC,OAAO,eAAiB,KAAMY,OAAO,QAC5E,KACEX,GAAG,QACDC,QAAe,QACfC,cAAe,WACfC,YAAeP,OAAOQ,SAASC,SAC/BC,WAAgBpB,EAAQ,EACxBsB,WAAe,IAEjB,MAAOC,UAQjBvC,EAAEI,UAAUsC,GAAG,UAAW,iBAAkB,WAC1C,GAAIC,GAAiB3C,EAAEqC,MAAMO,KAAK,OAC9BD,GAAeE,QACjBF,EAAeG,aAAa,WAC1BH,EAAeI,SACbC,aAAc,eAKtB,IAAIC,GAASjD,EAAE,iBACfiD,GAAOC,QAAQ,aAIjBlD,EAAE,aAAamD,WAEfnD,EAAE,uBAAuBuB,MAAM,SAASC,GACtCA,EAAEC,iBACFzB,EAAE,wBAAwBoD,YAAY,WAIxC,IAAIC,GAAkB,WACpB,GAAIC,GAAK5B,OAAOf,UAAUC,UAAU2C,aACpC,KAEE,MAAID,GAAGE,QAAS,eACL7C,UAAU8C,UAAU,IAAM9C,UAAU0C,iBAAmB1C,UAAU+C,UAAY/C,UAAUgD,cAAcC,OAAO,EAAE,IAI9GjD,UAAU0C,iBAAmB1C,UAAU+C,UAAY/C,UAAUgD,cAAcC,OAAO,EAAE,GAGjG,MAAOpC,GACL,QAGC,QAAS6B,KACZrD,EAAE,QAAQa,SAAS,uBAIpBV,QAIH,SAAWH,GACT,YACAA,GAAE6D,MAAMC,IAAIpC,OAAQ,OAAQ,WAE1B1B,EAAE,2BAA2Be,KAAK,SAAUC,EAAOC,GACjDjB,EAAEiB,GAAKP,KAAK,QAAS,IAAIkB,YAAY,0BAA0Bf,SAAS,gCAG3EV","file":"../main.js","sourcesContent":["/**\n * Description\n */\n\n(function ($) {\n  'use strict';\n\n  $.material.init();\n\n  jQuery(document).ready(function ($) {\n    // クッキーをチェックして、ログインしてるか確認\n    var $loggineBtn = $('#login-button');\n    if (/fumikicustomer=1/.test(document.cookie)) {\n      $('.account__logged-out').remove();\n      $loggineBtn.attr('href', $loggineBtn.attr('data-href'));\n    }\n\n    // ブラーフィルターがないブラウザ\n    if (/Firefox/.test(navigator.userAgent) || (/MSIE/.test(navigator.userAgent) && !(/MSIE (5|6|7|8|9)\\.0/.test(navigator.userAgent)))) {\n      $('body').addClass('non-filter-blur');\n    }\n    if (/MSIE 10/.test(navigator.userAgent)) {\n      $('body').addClass('non-ms-filter');\n    }\n\n    // ネタバレ\n    var netabareMsg = 'この部分はネタバレなどの「筆者が表示しない方が良いと判断した内容」を含みます。表示してよろしいですか？';\n\n    $('.netabare, .netabare-inline').each(function (index, elt) {\n      if ($(elt).hasClass('netabare')) {\n        // ブロック要素の場合\n        var button = $('<a class=\"netabare-opener button\" href=\"#\" data-index=\"' + (index + 1) + '\"><i class=\"fa-folder-open\"></i>ネタバレ表示</a>'),\n            top    = $(elt). height() / 2 * -1;\n        $(elt).after(button);\n        button.click(function (e) {\n          e.preventDefault();\n          if (window.confirm(netabareMsg)) {\n            $(elt).removeClass('netabare').removeClass('non-filter-blur');\n            if ($(elt).effect) {\n              $(elt).effect('highlight', {}, 1000);\n            }\n            try {\n              ga('send', {\n                hitType      : 'event',\n                eventCategory: 'netabare',\n                eventAction  : window.location.pathname,\n                eventLabel   : $(this).attr('data-index'),\n                eventValue   : 1\n              });\n            } catch (err) {\n            }\n            $(this).remove();\n          }\n        }).css({\n          top: top + 'px'\n        });\n      } else if ($(elt).hasClass('netabare-inline')) {\n        // ネタバレインライン\n        $(elt).click(function (e) {\n          if (window.confirm(netabareMsg)) {\n            $(this).removeClass('netabare-inline').effect('highlight', {}, 1000).unbind('click');\n            try {\n              ga('send', {\n                hitType      : 'event',\n                eventCategory: 'netabare',\n                eventAction  : window.location.pathname,\n                eventLabel   : (index + 1),\n                eventValue   : 1\n              });\n            } catch (err) {\n            }\n          }\n        });\n      }\n    });\n\n    // トップページ Masonry\n    $(document).on('masonry', '.front-widgets', function(){\n      var $homeContainer = $(this).find('.row');\n      if ($homeContainer.length) {\n        $homeContainer.imagesLoaded(function () {\n          $homeContainer.masonry({\n            itemSelector: '.widget'\n          });\n        });\n      }\n    });\n    var $front = $('.front-widgets');\n    $front.trigger('masonry')\n  });\n\n  // Headroom\n  $(\".headroom\").headroom();\n\n  $('.front-image-toggle').click(function(e){\n    e.preventDefault();\n    $('#front-image-wrapper').toggleClass('toggle');\n  });\n\n  // Check UA and if english, show add title\n  var browserLanguage = function() {\n    var ua = window.navigator.userAgent.toLowerCase();\n    try {\n      // chrome\n      if( ua.indexOf( 'chrome' ) != -1 ){\n        return ( navigator.languages[0] || navigator.browserLanguage || navigator.language || navigator.userLanguage).substr(0,2);\n      }\n      // それ以外\n      else{\n        return ( navigator.browserLanguage || navigator.language || navigator.userLanguage).substr(0,2);\n      }\n    }\n    catch( e ) {\n      return undefined;\n    }\n  };\n  if ( 'ja' !== browserLanguage() ) {\n    $('body').addClass('may-prefer-english');\n  }\n\n\n})(jQuery);\n\n\n//ロードイベントでTwitterウィジェットを調整する\n(function ($) {\n  \"use strict\";\n  $.event.add(window, 'load', function () {\n    //Twitterウィジェットの調整\n    $('.twitter-tweet-rendered').each(function (index, elt) {\n      $(elt).attr('style', '').removeClass('twitter-tweet-rendered').addClass('fumiki-twitter-rendered');\n    });\n  });\n})(jQuery);\n\n\n"]}