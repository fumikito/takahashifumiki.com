{"version":3,"sources":["main.js"],"names":["$","material","init","jQuery","document","ready","$loggineBtn","test","cookie","remove","attr","submit","e","ga","hitType","page","title","err","on","location","pathname","navigator","userAgent","addClass","netabareMsg","each","index","elt","hasClass","button","top","height","after","click","preventDefault","window","confirm","removeClass","effect","eventCategory","eventAction","eventLabel","this","eventValue","css","unbind","$homeContainer","find","length","imagesLoaded","masonry","itemSelector","trigger","headroom","toggleClass","ua","toLowerCase","indexOf","languages","browserLanguage","language","userLanguage","substr","event","add"],"mappings":"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","file":"../main.js","sourcesContent":["/**\n * Description\n */\n\n(function ($) {\n  'use strict';\n\n  $.material.init();\n\n\n  jQuery(document).ready(function ($) {\n\n    // クッキーをチェックして、ログインしてるか確認\n    var $loggineBtn = $('#login-button');\n    if (/fumikicustomer=1/.test(document.cookie)) {\n      $('.account__logged-out').remove();\n      $loggineBtn.attr('href', $loggineBtn.attr('data-href'));\n    }\n\n    // メルマガフォームの登録\n    $('#mc_embed_signup form').submit(function(e){\n      try{\n        ga('send', {\n          hitType: 'pageview',\n          page: '/newsletter/submit',\n          title: 'ニュースレター購読申込完了'\n        });\n      }catch(err){}\n    });\n\n    // お問い合わせ完了/inquiry/complete/\n    $('form.wpcf7-form').on('wpcf7mailsent', function(){\n      try{\n        ga('send', {\n          hitType: 'pageview',\n          page: location.pathname + 'complete/',\n          title: document.title + '完了'\n        });\n      }catch(err){}\n    });\n\n    // ブラーフィルターがないブラウザ\n    if (/Firefox/.test(navigator.userAgent) || (/MSIE/.test(navigator.userAgent) && !(/MSIE (5|6|7|8|9)\\.0/.test(navigator.userAgent)))) {\n      $('body').addClass('non-filter-blur');\n    }\n    if (/MSIE 10/.test(navigator.userAgent)) {\n      $('body').addClass('non-ms-filter');\n    }\n\n    // ネタバレ\n    var netabareMsg = 'この部分はネタバレなどの「筆者が表示しない方が良いと判断した内容」を含みます。表示してよろしいですか？';\n\n    $('.netabare, .netabare-inline').each(function (index, elt) {\n      if ($(elt).hasClass('netabare')) {\n        // ブロック要素の場合\n        var button = $('<a class=\"netabare-opener button\" href=\"#\" data-index=\"' + (index + 1) + '\"><i class=\"fa-folder-open\"></i>ネタバレ表示</a>'),\n            top    = $(elt). height() / 2 * -1;\n        $(elt).after(button);\n        button.click(function (e) {\n          e.preventDefault();\n          if (window.confirm(netabareMsg)) {\n            $(elt).removeClass('netabare').removeClass('non-filter-blur');\n            if ($(elt).effect) {\n              $(elt).effect('highlight', {}, 1000);\n            }\n            try {\n              ga('send', {\n                hitType      : 'event',\n                eventCategory: 'netabare',\n                eventAction  : window.location.pathname,\n                eventLabel   : $(this).attr('data-index'),\n                eventValue   : 1\n              });\n            } catch (err) {\n            }\n            $(this).remove();\n          }\n        }).css({\n          top: top + 'px'\n        });\n      } else if ($(elt).hasClass('netabare-inline')) {\n        // ネタバレインライン\n        $(elt).click(function (e) {\n          if (window.confirm(netabareMsg)) {\n            $(this).removeClass('netabare-inline').effect('highlight', {}, 1000).unbind('click');\n            try {\n              ga('send', {\n                hitType      : 'event',\n                eventCategory: 'netabare',\n                eventAction  : window.location.pathname,\n                eventLabel   : (index + 1),\n                eventValue   : 1\n              });\n            } catch (err) {\n            }\n          }\n        });\n      }\n    });\n\n    // トップページ Masonry\n    $(document).on('masonry', '.front-widgets', function(){\n      var $homeContainer = $(this).find('.row');\n      if ($homeContainer.length) {\n        $homeContainer.imagesLoaded(function () {\n          $homeContainer.masonry({\n            itemSelector: '.widget'\n          });\n        });\n      }\n    });\n    var $front = $('.front-widgets');\n    $front.trigger('masonry');\n  });\n\n  // Headroom\n  $(\".headroom\").headroom();\n\n  $('.front-image-toggle').click(function(e){\n    e.preventDefault();\n    $('#front-image-wrapper').toggleClass('toggle');\n  });\n\n  // Check UA and if english, show add title\n  var browserLanguage = function() {\n    var ua = window.navigator.userAgent.toLowerCase();\n    try {\n      // chrome\n      if( ua.indexOf( 'chrome' ) != -1 ){\n        return ( navigator.languages[0] || navigator.browserLanguage || navigator.language || navigator.userLanguage).substr(0,2);\n      }\n      // それ以外\n      else{\n        return ( navigator.browserLanguage || navigator.language || navigator.userLanguage).substr(0,2);\n      }\n    }\n    catch( e ) {\n      return undefined;\n    }\n  };\n  if ( 'ja' !== browserLanguage() ) {\n    $('body').addClass('may-prefer-english');\n  }\n\n\n})(jQuery);\n\n\n//ロードイベントでTwitterウィジェットを調整する\n(function ($) {\n  \"use strict\";\n  $.event.add(window, 'load', function () {\n    //Twitterウィジェットの調整\n    $('.twitter-tweet-rendered').each(function (index, elt) {\n      $(elt).attr('style', '').removeClass('twitter-tweet-rendered').addClass('fumiki-twitter-rendered');\n    });\n  });\n})(jQuery);\n\n\n"]}