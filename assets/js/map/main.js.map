{"version":3,"sources":["main.js"],"names":["$","material","init","jQuery","document","ready","date","Date","val","getDate","slice","getMonth","getFullYear","join","$loggineBtn","test","cookie","remove","attr","navigator","userAgent","addClass","netabareMsg","each","index","elt","hasClass","button","top","height","after","click","e","preventDefault","window","confirm","removeClass","effect","ga","hitType","eventCategory","eventAction","location","pathname","eventLabel","this","eventValue","err","css","unbind","on","$homeContainer","find","length","imagesLoaded","masonry","itemSelector","trigger","headroom","toggleClass","ua","toLowerCase","indexOf","languages","browserLanguage","language","userLanguage","substr","event","add"],"mappings":"CAIA,SAAWA,GACT,aAEAA,EAAEC,SAASC,OAGXC,OAAOC,UAAUC,MAAM,SAAUL,GAE/B,IAAIM,EAAO,IAAIC,KACfP,EAAE,yBAAyBQ,MAAQ,IAAMF,EAAKG,WAAWC,OAAQ,IAAO,KAAQJ,EAAKK,WAAa,IAAMD,OAAO,GAAIJ,EAAKM,eAAgBC,KAAK,MAE7I,IAAIC,EAAcd,EAAE,iBAChB,mBAAmBe,KAAKX,SAASY,UACnChB,EAAE,wBAAwBiB,SAC1BH,EAAYI,KAAK,OAAQJ,EAAYI,KAAK,gBAIxC,UAAUH,KAAKI,UAAUC,YAAe,OAAOL,KAAKI,UAAUC,aAAgB,sBAAsBL,KAAKI,UAAUC,aACrHpB,EAAE,QAAQqB,SAAS,mBAEjB,UAAUN,KAAKI,UAAUC,YAC3BpB,EAAE,QAAQqB,SAAS,iBAIrB,IAAIC,EAAc,sDAElBtB,EAAE,+BAA+BuB,KAAK,SAAUC,EAAOC,GACrD,GAAIzB,EAAEyB,GAAKC,SAAS,YAAa,CAE/B,IAAIC,EAAS3B,EAAE,2DAA6DwB,EAAQ,GAAK,8CACrFI,EAAS5B,EAAEyB,GAAMI,SAAW,GAAK,EACrC7B,EAAEyB,GAAKK,MAAMH,GACbA,EAAOI,MAAM,SAAUC,GAErB,GADAA,EAAEC,iBACEC,OAAOC,QAAQb,GAAc,CAC/BtB,EAAEyB,GAAKW,YAAY,YAAYA,YAAY,mBACvCpC,EAAEyB,GAAKY,QACTrC,EAAEyB,GAAKY,OAAO,eAAiB,KAEjC,IACEC,GAAG,QACDC,QAAe,QACfC,cAAe,WACfC,YAAeP,OAAOQ,SAASC,SAC/BC,WAAe5C,EAAE6C,MAAM3B,KAAK,cAC5B4B,WAAe,IAEjB,MAAOC,IAET/C,EAAE6C,MAAM5B,YAET+B,KACDpB,IAAKA,EAAM,YAEJ5B,EAAEyB,GAAKC,SAAS,oBAEzB1B,EAAEyB,GAAKM,MAAM,SAAUC,GACrB,GAAIE,OAAOC,QAAQb,GAAc,CAC/BtB,EAAE6C,MAAMT,YAAY,mBAAmBC,OAAO,eAAiB,KAAMY,OAAO,SAC5E,IACEX,GAAG,QACDC,QAAe,QACfC,cAAe,WACfC,YAAeP,OAAOQ,SAASC,SAC/BC,WAAgBpB,EAAQ,EACxBsB,WAAe,IAEjB,MAAOC,UAQjB/C,EAAEI,UAAU8C,GAAG,UAAW,iBAAkB,WAC1C,IAAIC,EAAiBnD,EAAE6C,MAAMO,KAAK,QAC9BD,EAAeE,QACjBF,EAAeG,aAAa,WAC1BH,EAAeI,SACbC,aAAc,gBAKTxD,EAAE,kBACRyD,QAAQ,aAIjBzD,EAAE,aAAa0D,WAEf1D,EAAE,uBAAuB+B,MAAM,SAASC,GACtCA,EAAEC,iBACFjC,EAAE,wBAAwB2D,YAAY,YAoBnC,OAhBiB,WACpB,IAAIC,EAAK1B,OAAOf,UAAUC,UAAUyC,cACpC,IAEE,OAA+B,GAA3BD,EAAGE,QAAS,WACL3C,UAAU4C,UAAU,IAAM5C,UAAU6C,iBAAmB7C,UAAU8C,UAAY9C,UAAU+C,cAAcC,OAAO,EAAE,IAI9GhD,UAAU6C,iBAAmB7C,UAAU8C,UAAY9C,UAAU+C,cAAcC,OAAO,EAAE,GAGjG,MAAOnC,GACL,QAGUgC,IACZhE,EAAE,QAAQqB,SAAS,sBArHvB,CAyHGlB,QAIH,SAAWH,GACT,aACAA,EAAEoE,MAAMC,IAAInC,OAAQ,OAAQ,WAE1BlC,EAAE,2BAA2BuB,KAAK,SAAUC,EAAOC,GACjDzB,EAAEyB,GAAKP,KAAK,QAAS,IAAIkB,YAAY,0BAA0Bf,SAAS,+BAL9E,CAQGlB","file":"../main.js","sourcesContent":["/**\n * Description\n */\n\n(function ($) {\n  'use strict';\n\n  $.material.init();\n\n\n  jQuery(document).ready(function ($) {\n    // フォームの初期値を設定\n    var date = new Date();\n    $('input[name=\"MMERGE4\"]').val( [ ('0' + date.getDate()).slice( -2 ), ( '0' + ( date.getMonth() + 1 ) ).slice(-2), date.getFullYear() ].join('/') );\n    // クッキーをチェックして、ログインしてるか確認\n    var $loggineBtn = $('#login-button');\n    if (/fumikicustomer=1/.test(document.cookie)) {\n      $('.account__logged-out').remove();\n      $loggineBtn.attr('href', $loggineBtn.attr('data-href'));\n    }\n\n    // ブラーフィルターがないブラウザ\n    if (/Firefox/.test(navigator.userAgent) || (/MSIE/.test(navigator.userAgent) && !(/MSIE (5|6|7|8|9)\\.0/.test(navigator.userAgent)))) {\n      $('body').addClass('non-filter-blur');\n    }\n    if (/MSIE 10/.test(navigator.userAgent)) {\n      $('body').addClass('non-ms-filter');\n    }\n\n    // ネタバレ\n    var netabareMsg = 'この部分はネタバレなどの「筆者が表示しない方が良いと判断した内容」を含みます。表示してよろしいですか？';\n\n    $('.netabare, .netabare-inline').each(function (index, elt) {\n      if ($(elt).hasClass('netabare')) {\n        // ブロック要素の場合\n        var button = $('<a class=\"netabare-opener button\" href=\"#\" data-index=\"' + (index + 1) + '\"><i class=\"fa-folder-open\"></i>ネタバレ表示</a>'),\n            top    = $(elt). height() / 2 * -1;\n        $(elt).after(button);\n        button.click(function (e) {\n          e.preventDefault();\n          if (window.confirm(netabareMsg)) {\n            $(elt).removeClass('netabare').removeClass('non-filter-blur');\n            if ($(elt).effect) {\n              $(elt).effect('highlight', {}, 1000);\n            }\n            try {\n              ga('send', {\n                hitType      : 'event',\n                eventCategory: 'netabare',\n                eventAction  : window.location.pathname,\n                eventLabel   : $(this).attr('data-index'),\n                eventValue   : 1\n              });\n            } catch (err) {\n            }\n            $(this).remove();\n          }\n        }).css({\n          top: top + 'px'\n        });\n      } else if ($(elt).hasClass('netabare-inline')) {\n        // ネタバレインライン\n        $(elt).click(function (e) {\n          if (window.confirm(netabareMsg)) {\n            $(this).removeClass('netabare-inline').effect('highlight', {}, 1000).unbind('click');\n            try {\n              ga('send', {\n                hitType      : 'event',\n                eventCategory: 'netabare',\n                eventAction  : window.location.pathname,\n                eventLabel   : (index + 1),\n                eventValue   : 1\n              });\n            } catch (err) {\n            }\n          }\n        });\n      }\n    });\n\n    // トップページ Masonry\n    $(document).on('masonry', '.front-widgets', function(){\n      var $homeContainer = $(this).find('.row');\n      if ($homeContainer.length) {\n        $homeContainer.imagesLoaded(function () {\n          $homeContainer.masonry({\n            itemSelector: '.widget'\n          });\n        });\n      }\n    });\n    var $front = $('.front-widgets');\n    $front.trigger('masonry');\n  });\n\n  // Headroom\n  $(\".headroom\").headroom();\n\n  $('.front-image-toggle').click(function(e){\n    e.preventDefault();\n    $('#front-image-wrapper').toggleClass('toggle');\n  });\n\n  // Check UA and if english, show add title\n  var browserLanguage = function() {\n    var ua = window.navigator.userAgent.toLowerCase();\n    try {\n      // chrome\n      if( ua.indexOf( 'chrome' ) != -1 ){\n        return ( navigator.languages[0] || navigator.browserLanguage || navigator.language || navigator.userLanguage).substr(0,2);\n      }\n      // それ以外\n      else{\n        return ( navigator.browserLanguage || navigator.language || navigator.userLanguage).substr(0,2);\n      }\n    }\n    catch( e ) {\n      return undefined;\n    }\n  };\n  if ( 'ja' !== browserLanguage() ) {\n    $('body').addClass('may-prefer-english');\n  }\n\n\n})(jQuery);\n\n\n//ロードイベントでTwitterウィジェットを調整する\n(function ($) {\n  \"use strict\";\n  $.event.add(window, 'load', function () {\n    //Twitterウィジェットの調整\n    $('.twitter-tweet-rendered').each(function (index, elt) {\n      $(elt).attr('style', '').removeClass('twitter-tweet-rendered').addClass('fumiki-twitter-rendered');\n    });\n  });\n})(jQuery);\n\n\n"]}