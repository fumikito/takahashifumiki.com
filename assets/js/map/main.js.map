{"version":3,"sources":["main.js"],"names":["$","material","init","jQuery","document","ready","$loggineBtn","test","cookie","remove","attr","navigator","userAgent","addClass","netabareMsg","each","index","elt","hasClass","button","top","height","after","click","e","preventDefault","confirm","removeClass","effect","ga","hitType","eventCategory","eventAction","window","location","pathname","eventLabel","this","eventValue","css","unbind","$homeContainer","length","imagesLoaded","masonry","itemSelector","event","add"],"mappings":"CAIA,SAAWA,GACT,YAEAA,GAAEC,SAASC,OAEXC,OAAOC,UAAUC,MAAM,SAAUL,GAE/B,GAAIM,GAAcN,EAAE,gBAChB,oBAAmBO,KAAKH,SAASI,UACnCR,EAAE,wBAAwBS,SAC1BH,EAAYI,KAAK,OAAQJ,EAAYI,KAAK,gBAIxC,UAAUH,KAAKI,UAAUC,YAAe,OAAOL,KAAKI,UAAUC,aAAgB,sBAAsBL,KAAKI,UAAUC,aACrHZ,EAAE,QAAQa,SAAS,mBAEjB,UAAUN,KAAKI,UAAUC,YAC3BZ,EAAE,QAAQa,SAAS,gBAIrB,IAAIC,GAAc,qDAElBd,GAAE,+BAA+Be,KAAK,SAAUC,EAAOC,GACrD,GAAIjB,EAAEiB,GAAKC,SAAS,YAAa,CAE/B,GAAIC,GAASnB,EAAE,2DAA6DgB,EAAQ,GAAK,8CACrFI,EAASpB,EAAEiB,GAAMI,SAAW,EAAI,EACpCrB,GAAEiB,GAAKK,MAAMH,GACbA,EAAOI,MAAM,SAAUC,GAErB,GADAA,EAAEC,iBACEC,QAAQZ,GAAc,CACxBd,EAAEiB,GAAKU,YAAY,YAAYA,YAAY,mBACvC3B,EAAEiB,GAAKW,QACT5B,EAAEiB,GAAKW,OAAO,eAAiB,IAEjC,KACEC,GAAG,QACDC,QAAe,QACfC,cAAe,WACfC,YAAeC,OAAOC,SAASC,SAC/BC,WAAepC,EAAEqC,MAAM3B,KAAK,cAC5B4B,WAAe,IAEjB,MAAOd,IAETxB,EAAEqC,MAAM5B,YAET8B,KACDnB,IAAKA,EAAM,WAEJpB,GAAEiB,GAAKC,SAAS,oBAEzBlB,EAAEiB,GAAKM,MAAM,SAAUC,GACrB,GAAIE,QAAQZ,GAAc,CACxBd,EAAEqC,MAAMV,YAAY,mBAAmBC,OAAO,eAAiB,KAAMY,OAAO,QAC5E,KACEX,GAAG,QACDC,QAAe,QACfC,cAAe,WACfC,YAAeC,OAAOC,SAASC,SAC/BC,WAAgBpB,EAAQ,EACxBsB,WAAe,IAEjB,MAAOd,SASjB,IAAIiB,GAAiBzC,EAAE,sBAClByC,GAAeC,QAClBD,EAAeE,aAAa,WAC1BF,EAAeG,SACbC,aAAc,iBAMrB1C,QAIH,SAAWH,GACTA,EAAE8C,MAAMC,IAAId,OAAQ,OAAQ,WAE1BjC,EAAE,2BAA2Be,KAAK,SAAUC,EAAOC,GACjDjB,EAAEiB,GAAKP,KAAK,QAAS,IAAIiB,YAAY,0BAA0Bd,SAAS,gCAG3EV","file":"main.js","sourcesContent":["/**\n * Description\n */\n\n(function ($) {\n  'use strict';\n\n  $.material.init();\n\n  jQuery(document).ready(function ($) {\n    // クッキーをチェックして、ログインしてるか確認\n    var $loggineBtn = $('#login-button');\n    if (/fumikicustomer=1/.test(document.cookie)) {\n      $('.account__logged-out').remove();\n      $loggineBtn.attr('href', $loggineBtn.attr('data-href'));\n    }\n\n    // ブラーフィルターがないブラウザ\n    if (/Firefox/.test(navigator.userAgent) || (/MSIE/.test(navigator.userAgent) && !(/MSIE (5|6|7|8|9)\\.0/.test(navigator.userAgent)))) {\n      $('body').addClass('non-filter-blur');\n    }\n    if (/MSIE 10/.test(navigator.userAgent)) {\n      $('body').addClass('non-ms-filter');\n    }\n\n    // ネタバレ\n    var netabareMsg = 'この部分はネタバレなどの「筆者が表示しない方が良いと判断した内容」を含みます。表示してよろしいですか？';\n\n    $('.netabare, .netabare-inline').each(function (index, elt) {\n      if ($(elt).hasClass('netabare')) {\n        // ブロック要素の場合\n        var button = $('<a class=\"netabare-opener button\" href=\"#\" data-index=\"' + (index + 1) + '\"><i class=\"fa-folder-open\"></i>ネタバレ表示</a>'),\n            top    = $(elt). height() / 2 * -1;\n        $(elt).after(button);\n        button.click(function (e) {\n          e.preventDefault();\n          if (confirm(netabareMsg)) {\n            $(elt).removeClass('netabare').removeClass('non-filter-blur');\n            if ($(elt).effect) {\n              $(elt).effect('highlight', {}, 1000);\n            }\n            try {\n              ga('send', {\n                hitType      : 'event',\n                eventCategory: 'netabare',\n                eventAction  : window.location.pathname,\n                eventLabel   : $(this).attr('data-index'),\n                eventValue   : 1\n              });\n            } catch (e) {\n            }\n            $(this).remove();\n          }\n        }).css({\n          top: top + 'px'\n        });\n      } else if ($(elt).hasClass('netabare-inline')) {\n        // ネタバレインライン\n        $(elt).click(function (e) {\n          if (confirm(netabareMsg)) {\n            $(this).removeClass('netabare-inline').effect('highlight', {}, 1000).unbind('click');\n            try {\n              ga('send', {\n                hitType      : 'event',\n                eventCategory: 'netabare',\n                eventAction  : window.location.pathname,\n                eventLabel   : (index + 1),\n                eventValue   : 1\n              });\n            } catch (e) {\n            }\n          }\n        });\n      }\n    });\n\n\n    // トップページ Masonry\n    var $homeContainer = $('.front-widgets .row');\n    if ( $homeContainer.length ) {\n      $homeContainer.imagesLoaded(function(){\n        $homeContainer.masonry({\n          itemSelector: '.widget'\n        });\n      });\n    }\n  });\n  \n})(jQuery);\n\n\n//ロードイベントでTwitterウィジェットを調整する\n(function ($) {\n  $.event.add(window, 'load', function () {\n    //Twitterウィジェットの調整\n    $('.twitter-tweet-rendered').each(function (index, elt) {\n      $(elt).attr('style', '').removeClass('twitter-tweet-rendered').addClass('fumiki-twitter-rendered');\n    });\n  });\n})(jQuery);\n"],"sourceRoot":"/source/"}